# Задача 3
**Ускорить запрос "anti-join", добиться времени выполнения < 10sec**
```sql
select day from t2 where t_id not in ( select t1.id from t1 );
```
## Решение
Для начала немного вводной информации:
- в начале каждого задания у нас нет индексов (даже если они остались после предыдущих решений, я их удаляю, чтобы начать с пустого листа),
- `max_parallel_workers_per_gather=0` как условие сохраняется всегда,
- настроенная во время моих попыток решить задачу 2 `work_mem = '64MB'` остаётся и здесь (я забыла вернуть предыдущее значение),
- ну и последнее, я отчаянная и поставила работать планировщик с анализом (то есть по сути запустила исходный запрос) **до утра**.
>Последнее было сделано исключительно ради моего интереса, выполнится ли запрос вообще за 8-10 часов. Ноутбук, конечно, жалко, но интерес удовлетворить хочется.

Так как данное решение будет полноценно выложено уже 21 апреля, то есть с просроком в 1 день, я полностью осознаю, что оно может не учитываться при отборе на стажировку. Но мне просто понравилось решать эти задачи, так что я продолжу их выкладывать по мере выполнения.
